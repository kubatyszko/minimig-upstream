Minimig V1.0/V1.1 Firmware/Core build 27-04-2008

New in this release is support for 256KB kickstart files as well as Amiga Forever encrypted Kickstart files.
Also added to this release is improved error posting and system trouble shooting.
Both the PIC firmware AND the FPGA core have been updated. You can use Tiny Bootloader to update the PIC with minimig1.hex
minimig1.bin is the FPGA core that goes onto the MMC flash card


* encrypted kickstarts
The kickstart must be renamed to "kick.rom" as with the previous release. The key file must be named "rom.key".
Both files must be in the root dir. The firmware has been tested with Amiga Forever 2005 premium edition.


* Ram tests and FPGA/68000 check
To facilitate troubleshooting, a ram test has been added to the 68000 boot code. After FPGA config, all ram areas will be tested with alternating bit patterns. The test has been divided in 3 subtest. During each subtest, the screen is set to a specific color. If a subtest fails the screen will remain in that specific color.
The colors are:
Subtest1: green (tests IC7)
Subtest2: red   (tests IC6)
Subtest3: blue  (tests IC6)
Also, the red power led (D8) is set to bright immediately after the FPGA and 68000 come up, indicating that they are working properly.


* Error posting
If something goes wrong during system startup or operation, the green led is used to post an error number. The error number is derived from the number of flashes between the 2 seconds pauses.
The error numbers are:
2: No "minimig1.bin" FPGA core file found
3: No "kick.rom" kickstart file found
4: no "rom.key" key file found
5: FPGA configuration failed (INIT pin or DONE pin not high)
6: MMC or SD flash card not found/recognized
7: general file error


Dennis van Weeren
27-04-2008


